import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import CUserInformation, { userInformationTypes } from '@/components/components/dataDisplay/content/CUserInformation';
import CUserInformationName from "@/components/components/dataDisplay/content/CUserInformationName";
import CUserInformationCaption from "@/components/components/dataDisplay/content/CUserInformationCaption";
import CUserInformationChipGroup from "@/components/components/dataDisplay/content/CUserInformationChipGroup";
import CUserInformationCompany from "@/components/components/dataDisplay/content/CUserInformationCompany";
import CContent from '@/components/components/dataDisplay/content/CContent';
import CIcon from '@/components/elements/core/icon/CIcon';
import CAvatar from '@/components/components/dataDisplay/CAvatar';
import CChipGroup from '@/components/components/dataDisplay/chips/CChipGroup';
import CChip from '@/components/components/dataDisplay/chips/CChip';
import CDivider from '@/components/elements/utility/CDivider';

<Meta
    title="Data Display/Content/UserInformation"
    component={ CUserInformation }
    argTypes={{
        type: {
            description: "타입",
            control: {
                type: "select",
                options: userInformationTypes,
            }
        },
        name: {
            defaultValue: "레오나",
            control: {
                type: "text",
            }
        },
        company: {
            defaultValue: "코멘토",
            control: {
                type: "text",
            }
        }
    }}
/>

export const Basic = (args, { argTypes }) => ({
    props: Object.keys(argTypes),
    components: { CUserInformation, CContent, CAvatar, CIcon, CChipGroup, CChip, CUserInformationName, CUserInformationCompany, CUserInformationCaption, CUserInformationChipGroup },
    data() {
        return {
            matchedItems: ['회사', '산업', '직무', '학교'],
        };
    },
    computed: {
        avatarSize() {
            const sizes = {
                simple: 'xsmall',
                normal: 'small',
                full: 'medium'
            };
            return sizes[this.type];
        }
    },
    template: `
        <CUserInformation :type="type">
            <template v-slot:avatar>
                <CAvatar type="nickname" :text="name.substr(0, 1)" :size="avatarSize"/>
            </template>
        <template v-slot:name>
            <CUserInformationName :type="type">
                {{ name }}
            </CUserInformationName>
        </template>
        <template v-slot:user-info>
            <CUserInformationCompany :type="type">
                {{ company }}
            </CUserInformationCompany>
        </template>
        <template v-slot:other>
          <CUserInformationCaption v-if="type !== 'full'">2022.00.00</CUserInformationCaption>
          <template v-else>
            <CUserInformationCaption >코부사장 ∙ 채택률 90% ∙
            <CUserInformationChipGroup size="small">
            <CChip
              v-for="(item, index) in matchedItems"
              :key="'chip' + index"
              type="outline"
              color="primary"
              size="small"
              >
                {{ item }}
            </CChip>
            </CUserInformationChipGroup>
              일치
            </CUserInformationCaption>
          </template>
        </template>
      </CUserInformation>`,
});

# UserInformation

**c-user-information** 컴포넌트의 문서입니다.
<Story name="Basic" height="100px">
    {Basic.bind({})}
</Story>

<ArgsTable story="Basic" />


## Stories
### All
<Canvas>
    <Story name="All" height="100px">
        {{
            data() {
                return {
                    sampleItems: [
                        {
                            name: '레오나',
                            company: '코멘토',
                            type: 'simple',
                            size: 'xsmall',
                        },
                        {
                            name: '레오나',
                            company: '코멘토',
                            type: 'normal',
                            size: 'small',
                        },
                        {
                            name: '레오나',
                            company: '코멘토',
                            matchedItems: ['회사', '산업', '직무', '학교'],
                            type: 'full',
                            size: 'medium',
                        },
                    ],
                };
            },
            template: `
              <div>
              <template v-for="({ name, company, matchedItems, size, type }, index) in sampleItems">
                <CUserInformation :type="type" :key="'user-information' + index">
                  <template v-slot:avatar>
                    <CAvatar type="nickname" :text="name.substr(0, 1)" :size="size"/>
                  </template>
                  <template v-slot:name>
                    <CUserInformationName :type="type">
                      {{ name }}
                    </CUserInformationName>
                  </template>
                  <template v-slot:user-info>
                    <CUserInformationCompany :type="type">
                      {{  company }}
                    </CUserInformationCompany>
                  </template>
                  <template v-slot:other>
                    <CUserInformationCaption v-if="type !== 'full'">2022.00.00</CUserInformationCaption>
                    <template v-else>
                      <CUserInformationCaption >코부사장 ∙ 채택률 90% ∙
                        <CUserInformationChipGroup size="small">
                          <Chip
                              v-for="(item, index) in matchedItems"
                              :key="'chip' + index"
                              type="outline"
                              color="primary"
                              size="small"
                          >
                            {{ item }}
                          </Chip>
                        </CUserInformationChipGroup>
                        일치
                      </CUserInformationCaption>
                    </template>
                  </template>
                </CUserInformation>
                <CDivider :key="'divider' + index" class="my-8" />
              </template>
              <CUserInformation type="simple">
                <template v-slot:avatar>
                  <CAvatar type="profile" size="xsmall"/>
                </template>
                <template v-slot:name>
                  <CUserInformationName>
                    질문자
                  </CUserInformationName>
                </template>
              </CUserInformation>
              <CDivider class="my-8" />
              <CUserInformation type="normal">
                <template v-slot:avatar>
                  <CAvatar type="profile" size="small"/>
                </template>
                <template v-slot:name>
                  <CUserInformationName>
                    질문자
                  </CUserInformationName>
                </template>
              </CUserInformation>
              <CDivider class="my-8" />
              <CUserInformation type="full">
                <template v-slot:avatar>
                  <CAvatar type="profile" size="medium"/>
                </template>
                <template v-slot:name>
                  <CUserInformationName>
                    질문자
                  </CUserInformationName>
                </template>
              </CUserInformation>
              </div>
            `,
            components: { CUserInformation, CIcon, CChipGroup, CChip, CAvatar, CDivider, CUserInformationName, CUserInformationCaption, CUserInformationChipGroup, CUserInformationCompany },
        }}
    </Story>
</Canvas>

