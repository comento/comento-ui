import { ArgsTable, Meta, Story } from '@storybook/addon-docs/blocks';

import SubHeader from '@/components/components/general/headers/SubHeader';
import NewRow from '@/components/layout/NewRow';
import NewGrid from '@/components/layout/NewGrid';
import NewCol from '@/components/layout/NewCol';
import Tabs from '@/components/components/dataDisplay/Tabs';
import Button from '@/components/components/general/button/Button';

<Meta
  title="General/Headers/SubHeader"
  component={SubHeader}
  argTypes={{
    activatedMenu: {
    description: "선택 된 Header 메뉴",
    defaultValue: "커뮤니티",
    control: {type: 'text'},
    table: {
        type: {
          summary: "string",
        }
      }
    },
    hoveredMenu: {
      description: "마우스가 올라가 있는 메뉴",
      defaultValue: "",
      control: {type: "text"},
      table: {
        type: {
          summary: "string",
        }
      }
    },
    isAppear: {
      description: "Header 뒤에 있다가 아래로 나타나는 플래그",
      table: {
        type: {
          summary: "Boolean",
        },
      },
    },
    isScrollTop: {
      description: "스크롤이 최상단에 있는지에 대한 플래그",
      table: {
        type: {
          summary: "Boolean",
        },
      },
    },
    items: {
      description: "서브헤더 목록",
      defaultValue: [
        {
          url: "/vod",
          name: "홈",
          active: false,
        },
        {
          url: "/edu/list",
          name: "직무부트캠프",
          active: true,
        },
        {
          url: "/class/pt",
          name: "실무PT",
          active: false,
        },
        {
          url: "/edu/path/list",
          name: "진로부트캠프",
          active: false,
        },
        {
          url: "/vod",
          name: "VOD",
          active: false,
        },
      ],
      control: {type: "array"},
      table: {
        summary: {
          type: "Array"
        },
      },
    },
    isSearch: {
      description: "해당 페이지가 검색페이지인지 여부",
      table: {
        summary: {
          type: "Boolean",
        }
      }
    },
    isNuxt: {
      description: "이동하는 페이지가 Nuxt인지 여부",
      table: {
        summary: {
          type: "Boolean",
        }
      },
    },
    isTransparent: {
      description: "투명 헤더 사용 여부",
      table: {
        summary: {
          type: "Boolean",
        }
      }
    },
  }}
/>

export const Default = (args, {argTypes}) => ({
  props: Object.keys(argTypes),
  components: {SubHeader, NewGrid, NewRow, NewCol, Tabs, Button},
  template:
  `<nav
      id="subHeader"
      class="sub-header"
      :class="{ search: isSearch, transparent: isTransparent }"
      :style="computedStyle"
    >
    <NewGrid>
      <NewRow>
        <NewCol>
          <Tabs
            ref="subHeader"
            :tab-index="tabIndex"
            with-header
            :type="isMobile ? 'swiper' : 'basic'"
            @changeTabIndex="changeTabs"
          >
            <template v-for="(menu, index) in items" :slot="'item' + index">
              <!--    nuxt 유무에 따라 핸들링          -->
              <nuxt-link v-if="isNuxt" :key="menu.url" :to="menu.url" :data-cy="menu.name">
                <Button :key="index" class="sub-header-menu" :class="{ active: tabIndex === index }">
                  {{ menu.name }}
                </Button>
              </nuxt-link>
              <a v-else :key="menu.url" :href="menu.url" :data-cy="menu.name">
                <Button :key="index" class="sub-header-menu" :class="{ active: tabIndex === index }">
                  {{ menu.name }}
                </Button>
              </a>
            </template>
          </Tabs>
        </NewCol>
      </NewRow>
    </NewGrid>
    </nav>`,
});

# SubHeader

**SubHeader** 컴포넌터의 문서입니다.

<Story name="Default" height="100px">
  {Default.bind({})}
</Story>

<ArgsTable story="Default" />